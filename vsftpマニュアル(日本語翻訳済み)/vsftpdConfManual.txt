VSFTPD.CONF(5) ファイルフォーマット説明書 VSFTPD.CONF(5)



ファイル名
       vsftpd.conf - vsftpdの設定ファイル

説明
       vsftpd.confはvsftpdの様々な動作を制御するために使用される。 デフォルトでは、vsftpdはこのファイルを次の場所で探す。
       /etc/vsftpd/vsftpd.conf にあります。 ただし、vsftpd にコマンドライン引数を指定することで、これを上書きすることができます。コマンド行引数には、vsftpd の設定ファイルのパス名
       である。この動作は、xinetdなどの高度なinetdを使用して、vsftpdを仮想ホストごとに異なる設定ファイル
       をバーチャルホストごとに異なる設定ファイルで起動したい場合に便利です。

       Systemd は vsftpd デーモンの起動を変更します。vsftpdパッケージには、/var/run/systemd/gen-erator/vsftpdへのシンボリックリンクを生成するvsftpd-generatorスクリプトが含まれています。
       erator/vsftpd.target.wantsディレクトリへのシンボリックリンクを生成するvsftpd-generatorスクリプトが含まれている。 このジェネレーターは、たとえば「systemctl --system daemon-reload」中に呼び出されます。これらのシンボリックリンクはすべて
       /usr/lib/systemd/system/vsftpd@.service ファイルにリンクします。 vsftpdデーモンは、以下のいずれかの方法で制御される：

       1. デフォルトの /etc/vsftpd/vsftpd.conf 構成ファイルを使用する単一デーモン。
       # systemctl {start,stop,...} vsftpd[.service] を使用します。

       2. /etc/vsftpd/<config-filename>.conf を使用する単一デーモン。
       # systemctl {start,stop,...} vsftpd@<config-filename-without-extension>[.service].

       3. すべてのインスタンスをまとめる
       # systemctl {restart,stop} vsftpd.target

       詳細は systemd.unit(5), systemd.target(5) を参照。

フォーマット
       vsftpd.confの書式は非常にシンプルです。各行はコメントかディレクティブです。コメント行は # で始まり、無視されます。 ディレクティブ
       行の書式は

       オプション=値

       オプション、=、値の間にスペースを入れるのは誤りであることに注意してください。

       各設定はデフォルトでコンパイルされており、設定ファイルで変更することができます。


ブーリアンオプション
       以下はブーリアン・オプションのリストです。ブーリアンオプションの値はYESまたはNOに設定できます。


       allow_anon_ssl
              ssl_enableが有効な場合にのみ適用されます。YESに設定すると、匿名ユーザは保護されたSSL接続を使用できるようになります。

              デフォルトは NO

       許可_書き込み可能_chroot
              ユーザが書き込み可能なディレクトリへの chroot() を許可します。YESに設定すると危険な可能性があることに注意してください。例えば
              ユーザが新しいルート・ディレクトリに'etc'ディレクトリを作成した場合、ユーザが作成した設定ファイルを/etc
              ション・ファイルを読み込むように、C ライブラリを騙す可能性がある。

              デフォルトは NO

       better_stou
              STOUコマンドに、より良いファイル名生成アルゴリズムを使用する。デフォルトのオリジナル・アルゴリズムでは、単純に増加する数字の接尾辞を
              これは、複数のアップローダが同時に同じファイル名で STOU コマンドを使用した場合に、競合状態に陥りやすくなります。
              が発生し、コマンドが失敗する可能性がある。新しいアルゴリズムでは、ファイル名に一意のランダムな6文字のサフィックスを追加します。
              になります。

              デフォルト NO

       anon_mkdir_write_enable
              YESに設定すると、匿名ユーザは特定の条件下で新規ディレクトリの作成が許可されます。 これを有効にするには、オプション
              write_enable オプションが有効になっており、 anonymous ftp ユーザが親ディレクトリに対して書き込み権限を持っている必要があります。

              デフォルトは NO

       anon_other_write_enable
              YESに設定すると、匿名ユーザはアップロードやディレクトリの作成以外の書き込み操作、例えば削除やリネームが許可されます。
              リネームなどです。これは一般的には推奨されませんが、念のため含まれています。

              デフォルトは NO

       anon_upload_enable
              YESに設定すると、匿名ユーザーが特定の条件下でファイルをアップロードすることが許可されます。これが動作するためには、 write_enable オプションが有効になっていなければなりません。
              オプションが有効になっており、匿名ftpユーザが希望するアップロード先に対して書き込み権限を持っている必要があります。この設定は、仮想
              デフォルトでは、仮想ユーザは匿名 (すなわち最大限の制限付き) 権限で扱われます。

              デフォルトは デフォルト: NO

       anon_world_readable_only
              有効にすると、匿名ユーザは world readable なファイルしかダウンロードできなくなります。これは ftp ユーザが
              ファイルを所有する可能性があることを認識しています。

              デフォルト: YES

       匿名有効
              匿名ログインを許可するかどうかを制御します。有効にすると、ユーザ名 ftp と anonymous の両方が匿名ログインとして認識されます。

              デフォルト: YES

       ascii_download_enable
              有効にすると、ダウンロード時にASCIIモードのデータ転送が行われます。 無効にすると、サーバはASCIIモードを許可しているふりをしますが、 実際にはASCIIモードを有効にするリクエストを無視します。
              を有効にするリクエストを無視します。そのため、クライアントはASCIIモードが有効になっていると思い、 受信したファイル中の<CRLF>文字列を変換してしまう可能性がある。
              文字列を翻訳する可能性があります。動作の詳細については、以下の記事を参照のこと： https://access.redhat.com/arti-
              cles/3250241 を参照のこと。

              このオプションをオンにすると、ASCIIモードのとき、サーバは実際にファイルの ASCIIマングリングを行う。

              デフォルトは NO

       ascii_upload_enable
              有効にすると、アップロード時に ASCII モードでのデータ転送が行われます。 無効にすると、サーバは ASCII モードを許可するふりをしますが、実際には
              を有効にするリクエストを無視する。そのため、クライアントはASCIIモードが有効になっていると思い、 ネイティブの行終端文字を標準の
              <CRLF>に変換して送信しますが、サーバーは変換を行いません。動作の詳細な説明については、以下の記事を参照されたい。
              https://access.redhat.com/articles/3250241。

              このオプションをオンにすると、ASCIIモードのとき、サーバは実際にファイルのASCIIマングリングを行います。

              デフォルトは NO

       async_abor_enable
              有効にすると、"async ABOR "として知られる特別なFTPコマンドが有効になる。 この機能を使用するのは、助言のない FTP クライアントだけである。さらに
              加えて、この機能は扱いにくいので、デフォルトでは無効になっている。残念なことに、FTPクライアントの中には、この機能が使えない限り、 転送をキャンセルするときにハングするものがある。
              するので、この機能を有効にしておくとよい。

              デフォルト NO

       バックグラウンド
              この機能を有効にし、vsftpd を「待ち」モードで起動すると、vsftpd はリスナプロセスをバックグラウンド化する。
              に戻る。

              デフォルト: YES

       チェックシェル
              注意！このオプションは、vsftpd の非 PAM ビルドでのみ有効です。無効にすると、vsftpd は、ローカルログインに有効なユーザシェルを /etc/shells で確認しません。
              をチェックしません。

              デフォルト: YES

       chmod_enable
              有効にすると、SITE CHMOD コマンドの使用を許可します。注意！これはローカルユーザーにのみ適用されます。匿名ユーザは決してSITE CHMODを使うことができません。

              デフォルト: YES

       chown_uploads
              有効にすると、匿名でアップロードされたすべてのファイルの所有者が、設定chown_usernameで指定されたユーザに変更されます。 これは
              管理者、そしておそらくセキュリティの観点から有用です。

              デフォルトは NO

       chroot_list_enable
              有効にすると、ログイン時にホームディレクトリの chroot() jail に置かれるローカルユーザのリストを提供することができます。 意味は
              chroot_local_userがYESに設定されている場合は少し異なります。この場合、リストは、chroot() jailに配置されないユーザのリストになります。
              chroot() jailに置かれないユーザーのリストになります。 既定では、このリストを含むファイルは /etc/vsftpd/chroot_list ですが、chroot_list_file
              設定で上書きできます。

              デフォルトは NO

       chroot_local_user
              YES に設定すると、ローカルユーザは、(既定では) ログイン後にホームディレクトリの chroot() jail に配置されます。 警告 このオプションは
              特にユーザがアップロード権限またはシェルアクセスを持っている場合。あなたが何をしているか知っている場合のみ有効にしてください。  注意
              これらのセキュリティ上の影響は、vsftpd 固有のものではないことに注意。これらは、ローカルユーザを chroot() jail に入れることを提案するすべての FTP デーモンに適用される。

              デフォルトは NO

       connect_from_port_20
              これは、PORT 形式のデータ接続で、サーバマシンのポート 20 (ftp-data) を使用するかどうかを制御します。セキュリティ上の理由から、クライアントによっては
              と主張するクライアントがあるかもしれない。逆に、このオプションを無効にすると、vsftpd を少し低い権限で実行できるようになります。

              デフォルト： NO (ただし、サンプル設定ファイルでは有効になっています)

       debug_ssl
              trueの場合、OpenSSL接続診断がvsftpdログファイルにダンプされる。 (v2.0.6で追加)。

              デフォルトは NO

       delete_failed_uploads
              true の場合、アップロードに失敗したファイルはすべて削除される。 (v2.0.7で追加)。

              デフォルトは NO

       deny_email_enable
              有効にした場合、ログイン拒否の原因となる匿名パスワード電子メール応答のリストを提供することができる。デフォルトでは
              このリストを含むファイルは /etc/vsftpd/banned_emails ですが、 banned_email_file 設定でこれを上書きできます。

              デフォルトは NO

       dirlist_enable
              NO に設定すると、すべてのディレクトリ一覧コマンドでパーミッションが拒否されます。

              デフォルト: YES

       dirmessage_enable
              有効にすると、FTPサーバのユーザが最初に新しいディレクトリに入ったときにメッセージを表示することができる。デフォルトでは、ディレクトリは
              ファイル .message がスキャンされますが、これはコンフィギュレーション設定 message_file で上書きすることができます。

              デフォルトは NO (ただしサンプルの設定ファイルでは有効になっています)

       download_enable
              NOに設定すると、すべてのダウンロードリクエストはパーミッションが拒否されます。

              デフォルト: YES

       dual_log_enable
              有効にすると、2 つのログファイルが並行して生成され、デフォルトで /var/log/xferlog と /var/log/vsftpd.log に出力されます。 前者は wu-ftpd
              形式の転送ログで、標準ツールで解析可能である。後者はvsftpd独自のスタイルのログです。

              デフォルトは NO

       強制ドットファイル
              有効にすると、クライアントで "a" フラグが使用されていなくても、 .で始まるファイルとディレクトリがディレクトリ一覧に表示されます。
              このオーバーライドは "." と "..." エントリを除外します。

              デフォルト NO

       force_anon_data_ssl
              ssl_enableが有効な場合にのみ適用される。有効な場合、すべての匿名ログインは、データ接続でデータを送受信するために安全なSSL接続を使用するよう強制されます。
              を使用するように強制されます。

              デフォルトは NO

       強制匿名ログイン_SSL
              ssl_enableが有効な場合にのみ適用されます。有効になっている場合、すべての匿名ログインはパスワードを送信するために安全なSSL接続を使用するように強制されます。
              パスワードを送信するために、すべての匿名ログインはセキュアな SSL 接続を使わざるを得なくなります。

              デフォルトは NO

       強制ローカルデータSSL
              ssl_enableが有効な場合にのみ適用されます。有効になっている場合、匿名でないすべてのログインは、データ接続でデータを送受信するためにセキュアな
              を使用するように強制されます。

              デフォルト：YES

       force_local_logins_ssl
              ssl_enableが有効な場合にのみ適用されます。有効になっている場合、すべての非匿名ログインは、パスワードを送信するために安全なSSL接続を使用するよう強制されます。
              を強制されます。

              デフォルト: YES

       guest_enable
              有効にすると、匿名でないログインはすべて「ゲスト」ログインとして分類されます。ゲストログインは、guest_username
              設定で指定されたユーザーにリマップされます。

              デフォルトは NO

       hide_ids
              有効にすると、ディレクトリ一覧のすべてのユーザとグループ情報が "ftp" として表示されます。

              デフォルトは NO

       暗黙的SSL
              有効にすると、SSLハンドシェイクがすべての接続で最初に要求されます(FTPSプロトコル)。明示的 SSL および/またはプレーンテキスト
              もサポートするには、別のvsftpdリスナプロセスを実行する必要があります。

              デフォルトは NO

       listen 有効にすると、vsftpd はスタンドアロンモードで実行される。これは、vsftpdを何らかのinetdから実行してはならないことを意味する。その代わりに、vsftpdの実行可
              vsftpd自身が接続をリッスンし、着信を処理する。

              デフォルトは NO

       listen_ipv6
              listen パラメータと同様だが、vsftpd は IPv4 ソケットではなく IPv6 ソケットをリッスンする。ただし、vsftpd は IPv4 ソケットではなく IPv6 ソケットをリッスンします。
              「アドレス (::) でリッスンしているソケットは、デフォルトで IPv6 と IPv4 の両方の接続を受け付けます。このパラメータと listen パラメータは互いに排他的である。

              デフォルトは NO

       local_enable
              ローカルログインを許可するかどうかを制御する。有効にすると、/etc/passwd (または PAM 設定で参照している場所) にある通常のユーザアカウントを使ってログインできます。
              にある通常のユーザアカウントを使ってログインできます。仮想ユーザを含め、匿名でないログインを行うには、これを有効にする必要があります。

              デフォルトは NO

       lock_upload_files
              有効にすると、すべてのアップロードはアップロードファイルの書き込みロックとともに進行します。すべてのダウンロードは、ダウンロードファイルに対する共有の読み取りロックとともに進行します。
              警告  これを有効にする前に、悪意のあるリーダが、例えばファイルを追加したいライタを飢えさせる可能性があることに注意してください。

              デフォルト：YES

       log_die
              何らかのエラー状態が発生し、vsftpd が終了を決定したときに syslog にエラーをログ出力する。内部的には、関数
              die()、die2() および bug() 関数に与えられたエラーメッセージが syslog に渡されます。現在のところ、この機能には、メッセージをログに記録した後、終了するまでに短い時間 (1 秒が使用されています)
              を待つ必要があります。 これは以下の systemd バグの回避策です: https://github.com/systemd/sys-
              temd/issues/2913

              デフォルト NO

       log_ftp_protocol
              有効にすると、xferlog_std_format オプションが有効でない場合、すべての FTP リクエストとレスポンスがログに記録されます。デバッグに便利です。

              デフォルトは NO

       ls_recurse_enable
              この設定を有効にすると、"ls -R "の使用が可能になる。これはセキュリティ上の小さなリスクである。
              は多くのリソースを消費するかもしれないからである。

              デフォルト NO

       mdtm_write
              この設定を有効にすると、MDTMはファイルの修正時間を設定できるようになる（通常のアクセスチェックの対象となる）。

              デフォルト: YES

       no_anon_password
              有効にすると、vsftpd が匿名パスワードを要求しないようにする。

              匿名ユーザはそのままログインします： デフォルト: NO

       no_log_lock
              有効な場合、vsftpd がログファイルに書き込むときにファイルロックを取らないようにします。このオプションは通常、有効にすべきではありません。このオプションは
              のようなオペレーティングシステムのバグを回避するために存在します。
              ログファイルをロックしようとするとハングすることがあります。

              デフォルトは NO

       ワンプロセス・モデル
              Linux 2.4 カーネルを使用している場合は、接続ごとに 1 つのプロセスしか使用しない別のセキュリティモデルを使用することができます。これは
              純粋なセキュリティ・モデルではないが、パフォーマンスが向上する。何をやっているのかわかっていて、あなたのサイトが膨大な数の同時接続ユーザーをサポートしているのでなければ、これを有効にしたくはないでしょう。
              が膨大な数のユーザーを同時に接続するような場合以外は、有効にしないでください。

              デフォルト NO

       passwd_chroot_enable
              有効な場合、chroot_local_user と共に、chroot() jail の場所は、ユーザ毎に指定することができます。各ユーザのjailは
              etc/passwdのホームディレクトリ文字列から生成される。ホームディレクトリ文字列の/./の出現は、jailがパスのその特定の
              にあることを示します。

              デフォルト NO

       pasv_addr_resolve
              (IP アドレスではなく) ホスト名を pasv_address オプションで使用したい場合、YES に設定します。

              デフォルト： NO

       pasv_enable
              データ接続を取得するPASVメソッドを無効にしたい場合はNOに設定する。

              デフォルト：YES

       pasv_promiscuous
              データ接続が制御接続と同じIPアドレスから発信されていることを確認するPASVセキュリティ・チェックを無効にする場合は、YESに設定します。
              ントロール接続と同じIPアドレスから発信されていることを確認します。 何をやっているか分かっている場合のみ有効にしてください！この正当な使い道は、ある種のセキュアトンネリングスキームのみです、
              またはFXPサポートを容易にするためである。

              デフォルト NO

       ポート有効
              データ接続を得るための PORT メソッドを無効にしたい場合は NO に設定する。

              デフォルト：YES

       ポート・プロミスキャス
              発信データ接続がクライアントにしか接続できないようにするPORTセキュリティ・チェックを無効にしたい場合は、YESに設定します。 デフォルト：YES
              のみを有効にしてください！

              デフォルト NO

       require_cert
              yesに設定すると、すべてのSSLクライアント接続はクライアント証明書の提示を要求されます。この証明書に適用される検証の程度は
              validate_cert (v2.0.6で追加)によって制御される。

              デフォルトは NO

       require_ssl_reuse
              yes に設定すると、すべての SSL データ接続は SSL セッションの再利用 (制御チャネルと同じマスターシークレットを知っていることを証明する) を要求されます。
              コントロールチャネルと同じマスターシークレットを知っていることを証明する)。 これは安全なデフォルトですが、多くのFTPクライアントを壊す可能性があるので、無効にした方がよいでしょう。その結果については
              http://scarybeastsecurity.blogspot.com/2009/02/vsftpd-210-released.html (v2.1.0で追加)を参照のこと。

              デフォルト: YES

       reverse_lookup_enable
              pam 認証の前に、vsftpd に IP アドレスをホスト名に変換させたい場合は YES に設定します。これは、ホスト名を含む pam_access
              を使用する場合に便利です。 ホスト名の逆引きが可能な環境でvsftpdを動作させたい場合、ネームサー
              サーバがしばらくの間応答しない環境で vsftpd を実行したい場合は、パ フォーマンスの問題を回避するために、これを NO に設定する必要があります。

              デフォルト: YES

       run_as_launching_user（起動ユーザとして実行する
              vsftpdを起動したユーザとしてvsftpdを実行したい場合はYESに設定します。これは、root アクセスが利用できない場合に便利です。大規模な警告！
              このオプションを安易に使用すると、重大なセキュリティ問題を引き起こす可能性があるため、自分が何をしているのか完全に理解している場合を除き、このオプションを有効にしないでください。
              特に、このオプションが設定されている場合、vsftpd は chroot 技術を使用してファイルアクセスを制限しない / できない (root で起動した場合でも)。 A
              のような deny_file 設定を使用することもできますが、信頼性は chroot の比ではありません。
              に頼るべきではない。 このオプションを使う場合、他のオプションに対する多くの制限が適用される。例えば、非アノニマスログイン、アップロード所有者の変更
              例えば、非匿名ログイン、アップロード所有者の変更、ポート 20 からの接続、1024 未満のポートをリッスンする、などの特権を必要とするオプションは動作しない。他のオプション
              は影響を受けるかもしれません。

              デフォルト NO

       secure_email_list_enable
              匿名ログイン用の電子メール・パスワードの指定されたリストのみを受け付けたい場合はYESに設定する。これは、以下のような手間のかからない方法として有用です。
              これは、仮想ユーザを必要とせずに低セキュリティ・コンテンツへのアクセスを制限する、手間のかからない方法として便利です。有効にすると、匿名ログインは、提供されたパスワードが
              がemail_password_file設定で指定されたファイルにリストされていない限り、匿名ログインは阻止されます。ファイルの形式は、1行に1つのパスワードで、余分な空白はありません。
              既定のファイル名は /etc/vsftpd/email_passwords です。

              既定： NO

       セッションサポート
              これは、vsftpd がログイン用のセッションを維持するかどうかを制御します。vsftpd がセッションを維持する場合、vsftpd は utmp および
              wtmpを更新しようとします。また、認証に PAM を使用している場合は pam_session を開き、ログアウト時にのみこれを閉じます。セッションロギングが不要で
              セッションロギングの必要がなく、vsftpd がより少ないプロセス数、より少ない特権で動作する機会を増やしたい場合、これを無効にすることができる。注意 - utmp および
              wtmp のサポートは、PAM が有効なビルドでのみ提供されます。

              デフォルトは NO

       setproctitle_enable
              有効にすると、vsftpd はシステムプロセス一覧にセッションステータス情報を表示しようとします。つまり
              プロセスの報告名は、vsftpd セッションが何をしているか (アイドル、ダウンロードなど) を反映して変更されます。おそらく、セキュリティのために、この機能はオフにしておいた方がよいでしょう。
              を設定する必要があります。

              デフォルト NO

       ssl_enable
              有効になっており、vsftpd が OpenSSL に対してコンパイルされている場合、 vsftpd は SSL 経由の安全な接続に対応します。これは、制御接続
              (ログインを含む) とデータ接続に適用されます。SSLをサポートするクライアントも必要です。注意!  このオプションを有効にすることに注意してください。必要な場合のみ有効にしてください。
              vsftpdは、OpenSSLライブラリのセキュリティについて保証することはできません。このオプションを有効にすることで、以下のことを宣言することになります。
              インストールした OpenSSL ライブラリのセキュリティを信頼することを宣言することになります。

              デフォルト NO

       ssl_request_cert
              このオプションを有効にすると、vsftpd は、SSL 接続の着信時に証明書を要求します (必ずしも要求する必要はありません。require_cert を参照してください)。通常
              は全く問題を引き起こさないはずですが、IBM zOS には問題があるようです。 (v2.0.7の新機能)。

              デフォルト: YES

       ssl_sslv2
              ssl_enableが有効な場合にのみ適用される。有効な場合、このオプションはSSL v2プロトコル接続を許可します。 TLS v1.2接続は
              を優先する。

              デフォルトは NO

       ssl_sslv3
              ssl_enable が有効な場合にのみ適用される。有効にすると、このオプションは SSL v3 プロトコル接続を許可する。 TLS v1.2接続は
              を優先する。

              デフォルトは NO

       ssl_tlsv1
              ssl_enable が有効な場合にのみ適用される。有効にすると、このオプションは TLS v1 プロトコルの接続を許可する。 TLS v1.2接続は
              を優先する。

              デフォルトは NO

       ssl_tlsv1_1
              ssl_enable が有効な場合にのみ適用される。有効にすると、このオプションは TLS v1.1 プロトコルの接続を許可する。 TLS v1.2接続は
              を優先する。

              デフォルトは NO

       ssl_tlsv1_2
              ssl_enable が有効な場合にのみ適用される。有効にすると、このオプションは TLS v1.2 プロトコルの接続を許可する。 TLS v1.2接続はあらかじめ
              を優先する。

              デフォルト: YES

       strict_ssl_read_eof
              このオプションを有効にすると、SSLデータアップロードはソケットのEOFではなくSSL経由で終了する必要があります。このオプションは
              このオプションは、攻撃者が偽のTCP FINでアップロードを早期に終了させないことを保証するために必要である。残念ながら、このオプションはデフォルトでは有効になっていない。
              はデフォルトでは有効になっていない。(v2.0.7の新機能)。

              デフォルトは NO

       STRIT_SSL_WRITE_SHUTDOWN
              有効にすると、SSLデータのダウンロードはソケットのEOFではなく、SSL経由で終了する必要があります。デフォルトではオフになっています。
              デフォルトではオフになっています。これは些細なことです。クライアントがファイルの完全な受信を確認したかどうかを知ることができるだけです。
              このオプションがなくても、クライアントはダウンロードの完全性をチェックすることができます。(v2.0.7の新機能)。

              デフォルト NO

       syslog_enable
              有効にすると、/var/log/vsftpd.log に出力されるはずのログが、システムログに出力されます。ログ記録は、FTPD
              機能の下で行われます。

              デフォルトは NO

       tcp_wrappers
              有効になっており、vsftpd が tcp_wrappers サポート付きでコンパイルされている場合、 着信接続は tcp_wrappers によるアクセス制御を通される。 さらに
              さらに、IP ごとに設定する仕組みがある。tcp_wrappersがVSFTPD_LOAD_CONF環境変数を設定した場合、vsftpdセッションは、VSFTPD_LOAD_CONF環境変数を設定する。
              vsftpdセッションは、この変数で指定されたvsftpd設定ファイルをロードしようとします。

              デフォルトは NO

       text_userdb_names
              デフォルトでは、ディレクトリ一覧のユーザフィールドとグループフィールドに数値 ID が表示されます。このパラメータを有効にすると、テキスト名を取得できます。
              パフォーマンス上の理由からデフォルトではオフになっています。 chroot_local_userがYESに設定されている場合、テキスト名は保証されないことに注意してください。

              デフォルトは NO

       チルダユーザ有効
              有効にすると、vsftpd は ~chris/pics のようなパス名、つまりチルダに続くユーザ名の解決を試みます。vsftpdは常に
              と ~/something のパス名を解決することに注意してください (この場合、~ は初期ログインディレクトリに解決されます)。 ユーザパスは
              ファイル /etc/passwd が _current_ chroot() jail 内で見つかる場合にのみ解決することに注意してください。

              デフォルトは NO

       use_localtime
              有効にすると、vsftpd は、ローカルタイムゾーンの時刻でディレクトリ一覧を 表示します。既定では、GMT が表示されます。MDTM FTP
              は、このオプションの影響を受けます。

              デフォルトは NO

       use_sendfile
              プラットフォームで sendfile() システムコールを使うことの相対的な利点をテストするための内部設定。

              デフォルト：YES

       userlist_deny
              このオプションはuserlist_enableが有効になっている場合に検査されます。この設定をNOにすると、ユーザは
              ユーザは、userlist_fileで指定されたファイルに明示的にリストされていない限り、ログインを拒否されます。 ログインが拒否される場合、拒否はユーザーにパス
              を要求される前に発行されます。

              デフォルト：YES

       ユーザリスト有効
              有効にすると、vsftpd は、userlist_file で指定されたファイル名からユーザ名の リストを読み込みます。 ユーザがこの
              ファイルの名前を使ってログインしようとすると、 パスワードを要求される前に拒否されます。これは、平文のパスワードが送信されるのを防ぐのに便利である。参照
              userlist_deny も参照してください。

              デフォルトは NO

       バリデート
              yesに設定すると、受信したすべてのSSLクライアント証明書がOKであることを検証しなければならない。 自己署名証明書はOKバリデーションを構成しない。(v2.0.6の新機能)。

              デフォルト： NO

       ユーザーリスト・ログ
              このオプションはuserlist_enableが有効になっている場合に検査される。有効にされた場合、ユーザーリストに基づくすべてのログイン拒否がログに記録される。

              デフォルトは NO

       virtual_use_local_privs
              有効にすると、仮想ユーザはローカル・ユーザと同じ権限を使用します。デフォルトでは、仮想ユーザーは匿名ユーザーと同じ権限を使います。
              ユーザーと同じ権限を使います。

              デフォルトは NO

       write_enable
              ファイルシステムを変更するFTPコマンドを許可するかどうかを制御します。これらのコマンドは stor、dele、rnfr、rnto、mkd、rmd、
              APPE および SITE である。

              デフォルトは NO

       xferlog_enable
              有効にすると、アップロードとダウンロードを記録するログファイルが維持される。 既定では、このファイルは /var/log/vsftpd.log に配置されます、
              に配置されますが、この場所は構成設定vsftpd_log_fileを使用して上書きできます。

              デフォルトは NO (ただし、サンプルの設定ファイルでは有効になっています)

       xferlog_std_format
              有効にすると、転送ログファイルはwu-ftpdが使用する標準のxferlog形式で書き込まれます。これは
              既存の転送統計ジェネレータを再利用できるので便利です。しかし、デフォルトの形式の方が読みやすいです。この形式のログファイルのデフォルトの場所は
              /ですが、xferlog_file設定で変更できます。

              デフォルトは NO

       アイソレート・ネットワーク
              有効にすると、CLONE_NEWNET を使用して、信頼されていないプロセスを分離し、任意の connect() ができないようにする。
              に問い合わせなければならない ( port_promiscuous は無効にしなければならない)。

              デフォルト: YES

       分離
              有効にすると、CLONE_NEWPID と CLONE_NEWIPC を使用してプロセスを ipc と pid 名前空間に分離します。そのため、分離されたプロセスは
              を使用します。

              デフォルト: YES

       wc_logs_enable
              有効にすると、ログは ASCII 文字列としてではなく、ワイド文字列として扱われます。

              デフォルトは NO


数値オプション
       以下は数値オプションの一覧である。数値オプションは、負でない整数に設定する必要があります。の便宜上、8進数もサポートしている。
       umaskオプションの便宜のためである。8進数を指定するには、最初の桁に0を使う。


       アクセプトタイムアウト
              リモートクライアントが PASV 形式のデータ接続で接続を確立するまでのタイムアウト時間 (秒)。

              デフォルト：60

       anon_max_rate
              匿名クライアントに許可される最大データ転送レートをバイト/秒で指定します。

              デフォルト: 0 (無制限)

       anon_umask
              匿名ユーザのファイル作成用 umask に設定される値。注意！8進数値を指定したい場合は、"0 "の接頭辞を忘れないでください。
              をつけないと、その値は 10進数の整数として扱われます！

              デフォルト: 077

       バインド回数
              パッシブモードで空いているリスニングポートを見つけるまでの最大試行回数。

              デフォルト: 9

       chown_upload_mode
              chown()された匿名アップロードに強制するファイルモード。(v2.0.6で追加)。

              デフォルト: 0600

       connect_timeout
              リモートクライアントが PORT 形式のデータ接続に応答するまでのタイムアウト (秒単位)。

              デフォルト: 60

       data_connection_timeout
              秒単位のタイムアウトで、データ転送が進行しないまま停滞することを許容する最大時間です。タイムアウトが発生すると
              リモートクライアントはキックオフされます。

              デフォルト：300

       delay_failed_login
              ログイン失敗を報告する前に休止する秒数。

              デフォルト: 1

       遅延成功ログイン
              ログイン成功を報告するまでの休止秒数。

              デフォルト: 0

       ファイル・オープン・モード
              アップロードされたファイルが作成されるパーミッション。Umasksはこの値の上に適用される。アップロードされたファイルを実行可能にしたい場合は、0777に変更するとよいでしょう。
              に変更するとよいでしょう。

              デフォルト: 0666

       ftp_data_port
              PORT 形式の接続の発信元ポート (connect_from_port_20 という貧弱な名前が有効になっている限り)。

              デフォルト: 20

       idle_session_timeout
              リモートクライアントがFTPコマンドを実行するまでの最大時間 (秒単位)。タイムアウトがトリガーされると、リモート
              クライアントはキックオフされる。

              デフォルト：300

       リスンポート
              vsftpd がスタンドアロンモードの場合、着信 FTP 接続をリッスンするポート。

              既定値：21

       local_max_rate
              ローカル認証ユーザに許可される最大データ転送速度 (1 秒あたりのバイト数)。

              デフォルト：0（無制限）

       local_umask
              ローカル・ユーザーに対してファイル作成用の umask を設定する値。注意！8進数値を指定したい場合は、"0 "の接頭辞を忘れないでください。
              をつけないと、その値は 10進数の整数として扱われます！

              デフォルト: 077

       最大クライアント数
              vsftpdがスタンドアロンモードの場合、接続可能なクライアントの最大数です。それ以上のクライアントが接続すると
              エラーメッセージが表示されます。 値 0 は、制限をオフにします。

              既定値: 2000

       max_login_fails
              この回数ログインに失敗すると、セッションは終了します。

              デフォルト: 3

       max_per_ip
              vsftpdがスタンドアロンモードの場合、同じソースインターネットアドレス から接続できるクライアントの最大数。 A
              クライアントは、この制限を超えるとエラーメッセージを受け取ります。値 0 を指定すると、制限がオフになります。

              デフォルト：50

       PASV_MAX_PORT
              PASV形式のデータ接続に割り当てる最大ポート。ファイアウォールを補助するために、狭いポート範囲を指定するために使うことができる。

              デフォルト: 0 (任意のポートを使用)

       pasv_min_port
              PASV 形式のデータ接続に割り当てる最小ポート。ファイアウォールを補助するために狭いポート範囲を指定するために使うことができます。

              デフォルト: 0 (任意のポートを使用)。

       trans_chunk_size
              おそらく変更する必要はないでしょうが、8192 などに設定すると、帯域幅制限がよりスムーズになります。

              デフォルト: 0 (vsftpdに適切な設定を選ばせる)


文字列オプション
       以下に文字列オプションの一覧を示す。


       anon_root
              このオプションは、vsftpd が匿名ログイン後に変更を試みるディレクトリを表します。失敗は無視されます。

              デフォルト: (なし)

       禁止電子メールファイル
              このオプションは、許可されない匿名電子メールパスワードのリストを含むフ ァイルの名前です。このファイルは
              オプション deny_email_enable が有効な場合に参照されます。

              既定： デフォルト: /etc/vsftpd/banned_emails

       バナーファイル
              このオプションは、サーバへの接続時に表示するテキストを含むファイル名です。設定すると、ftpd_banner_file が提供するバナー文字列を上書きします。
              オプションによって提供されるバナー文字列を上書きします。

              デフォルト: (none)

       ca_certs_file
              このオプションはクライアントの証明書を検証するために、 認証局の証明書を読み込むファイルの名前です。ロードされた証明書は
              ロードされた証明書は、z/OS FTPクライアントのようなTLSv1.0クライアントに対応するために、クライアントにもアドバタイズされる。 残念なことに、デフォルトのSSL CA証明書パスは使用されない。
              vsftpdが制限されたファイルシステム空間(chroot)を使用するためである。(v2.0.6で追加)。

              デフォルト: (なし)

       chown_username
              匿名でアップロードされたファイルの所有権を与えるユーザの名前です。このオプションは、他のオプション
              chown_uploads が設定されている場合にのみ関連します。

              デフォルト: root

       chroot_list_file
              このオプションは、ホームディレクトリの chroot() jail に置かれるローカルユーザのリストを含むファイルの名前です。 この
              オプションが有効な場合にのみ関連する。chroot_local_user オプションが有効になっている場合、リストファイルは次のようになります。
              chroot() jail に配置しないユーザのリストになります。

              デフォルトは デフォルト: /etvsftpd.confc/vsftpd.chroot_list

       cmds_allowed
              このオプションは、許可される FTP コマンド (ログイン後。USER、PASS、QUIT、およびその他は常にログイン前に許可されます。
              ログイン後)。それ以外のコマンドは拒否される。これは、FTPサーバを本当にロックダウンする強力な方法である。例: cmds_allowed=PASV,RETR,QUIT

              デフォルト: (なし)

       cmds_denied
              このオプションは、拒否されるFTPコマンドのリストをカンマ区切りで指定する(ログイン後。USER、PASS、QUITなどは常にログイン前に許可される)。
              このオプションと cmds_allowed の両方にコマンドがある場合は、拒否されたコマンドが優先される。(v2.1.0で追加)。

              デフォルト: (なし)

       deny_file
              このオプションを使うと、どのような形であれアクセスすべきでないファイル名 (とディレクトリ名など) のパターンを設定することができる。 影響を受ける
              に対して何かしようとしても (ダウンロード、ディレクトリへの変更、 ディレクトリ内の何かへの影響など)、拒否されます。
              は拒否されます。このオプションは非常に単純で、本格的なアクセス制御には使わないでください。
              を優先して使うべきです。 しかし、このオプションは、ある種の仮想ユーザー設定において有用かもしれません。特に、あるファイル名が（おそらくシンボリック名によって） 様々な名前でアクセス可能な場合
              (シンボリックリンクやハードリンクが原因かもしれません) でアクセスできる場合、すべての名前へのアクセスを拒否するように注意しなければなりません。  アクセスは
              アイテム名がhide_fileで指定された文字列を含む場合、またはhide_fileで指定された正規表現にマッチする場合、アクセスが拒否されます。 注意
              vsftpdの正規表現マッチングコードは、完全な正規表現機能のサブセットである単純な実装であることに注意してください。
              このため、このオプションを適用する場合は、慎重かつ徹底的にテストする必要がある。また、重要なセキュリティポリシーにはファイルシステム
              パーミッションを使うことを推奨します。サポートされている正規表現の構文は、任意の数の *、?
              {演算子である。 正規表現マッチングは、パスの最後のコンポーネントにのみ対応する。 例
              例：deny_file={*.mp3,*.mov,.private}。

              デフォルト：（なし）

       dsa_cert_file
              このオプションは、SSL暗号化接続に使うDSA証明書の場所を指定します。

              デフォルト: (none - RSA 証明書で十分です)

       dsa_private_key_file
              このオプションは、SSL暗号化接続に使用するDSA秘密鍵の場所を指定します。このオプションが設定されていない場合、秘密鍵は
              は証明書と同じファイルにあることが期待されます。

              デフォルト：（なし）

       dh_param_file
              このオプションは、SSL のエフェメラル Diffie-Hellman 鍵交換に使われるカスタムパラメータの場所を指定します。

              デ フ ォ ル ト ： （なし - 証明書のキーサ イ ズに適切な内蔵パ ラ メ ー タ を用います）

       ecdh_param_file
              このオプションは、ephemeral Elliptic Curve Diffie-Hellman (ECDH) 鍵交換のためのカスタムパラメータの場所を指定します。

              デフォルト: (none - 組み込みのパラメータを使う。 OpenSSL 1.0.1 では NIST P-256 を、 OpenSSL 1.0.2 ではクライアントの設定に基づいて自動的に選択された曲線を使う。
              OpenSSL 1.0.2 以降)

       email_password_file
              このオプションを使うと、secure_email_list_enable 設定で使う代替ファイルを指定することができます。

              デフォルトは デフォルト: /etc/vsftpd/email_passwords

       ftp_username
              これは、匿名 FTP の処理に使用するユーザ名です。このユーザのホームディレクトリは、匿名 FTP 領域のルートになります。

              デフォルト: ftp

       ftpd_banner
              この文字列オプションを使用すると、接続が最初に来たときに vsftpd が表示する挨拶バナーをオーバーライドできます。

              デフォルト: (none - デフォルトの vsftpd バナーが表示されます)

       ゲストユーザ名
              ゲストログインを構成するものについては、ブール値の設定 guest_enable を参照してください。この設定は、ゲスト
              ユーザをマッピングします。

              デフォルト: ftp

       hide_file
              このオプションを使うと、ディレクトリ一覧から隠すべきファイル名 (およびディレクトリ名など) のパターンを設定することができます。隠されるにもかかわらず
              隠されたとしても、実際に使う名前を知っているクライアントからは、 ファイルやディレクトリなどに完全にアクセスできます。 アイテムは以下の場合に隠されます
              名前が hide_file で指定された文字列を含む場合、または hide_file で指定された正規表現に一致する場合。vsftpdの正規表現マッチコードは、単純な実装であることに注意。
              正規表現マッチングコードは、完全な正規表現機能のサブセットである 簡単な実装であることに注意してください。  正規表現構文の詳細については
              を参照のこと。 例: hide_file={*.mp3,.hidden,hide*,h?｝

              デフォルト: (なし)

       リスンアドレス
              vsftpdがスタンドアロンモードの場合、(すべてのローカルインタフェースの) デフォルトのリッスンアドレスは、この設定によって上書きされます。数値の
              IP アドレスを指定します。

              デフォルト: (none)

       listen_address6
              listen_address と同様だが、IPv6 リスナーのデフォルトのリッスンアドレスを指定する (listen_ipv6 が設定されている場合に使用される)。書式は標準の
              IPv6アドレスの標準フォーマット。

              デフォルト：（なし）

       local_root
              このオプションは、ローカル (すなわち匿名でない) ログイン後に vsftpd が変更を試みるディレクトリを表します。失敗は
              無視されます。

              デフォルト: (なし)

       メッセージファイル
              このオプションは、新しいディレクトリに入ったときに探すファイルの名前です。その内容がリモート・ユーザーに表示されます。このオプション
              は、 dirmessage_enable オプ シ ョ ンが有効な場合にのみ意味を持ち ます。

              デフォルト: .message

       nopriv_user
              これは、vsftpd が完全に非特権にしたい場合に使用するユーザの名前です。これは専用ユーザでなければならないことに注意してください、
              でなければならないことに注意してください。nobodyユーザは、ほとんどのマシンで、重要なことの多くに使用される傾向がある。

              デフォルト：nobody

       pam_service_name（サービス名
              この文字列は、vsftpd が使用する PAM サービスの名前です。

              デフォルト：ftp

       pasv_address
              このオプションを使用すると、vsftpd が PASV コマンドに応答して通知する IP アドレ スを上書きできます。以下の場合を除き、数値の IP アドレスを指定します。
              pasv_addr_resolveが有効になっている場合は、起動時にDNS解決されるホスト名を指定できます。

              デフォルト: (なし - アドレスは接続中のソケットから取得される)

       rsa_cert_file
              このオプションは、SSL暗号化接続に使うRSA証明書の場所を指定します。

              デフォルトは デフォルト: /usr/share/ssl/certs/vsftpd.pem

       rsa_private_key_file
              このオプションは、SSL 暗号化接続に使用する RSA 秘密鍵の場所を指定します。このオプションが設定されていない場合、秘密鍵はSSL暗号化接続と同じファイル
              は証明書と同じファイルにあることが期待されます。

              デフォルト：（なし）

       secure_chroot_dir
              このオプションには空のディレクトリ名を指定します。また、このディレクトリはftpユーザが書き込み可能であってはならない。このディレクトリは
              vsftpdがファイルシステムへのアクセスを必要としないときに、安全な chroot() jailとして使用されます。

              デフォルトは /usr/share/empty

       ssl_ciphers
              このオプションを使用して、vsftpd が暗号化 SSL 接続で許可する SSL 暗号を選択できます。詳細は ciphers man ページを参照してください。
              を参照してください。暗号を制限することは、悪意のあるリモートパーティが問題を発見した暗号を強制す ることを防ぐため、有用なセキュリティ対策になることに注意してください。
              を強要するのを防ぐことができるからです。

              デフォルトは DES-CBC3-SHA

       user_config_dir
              この強力なオプションは、マニュアルページで指定されたあらゆる設定オプションをユーザーごとに上書きすることができます。使い方は簡単で
              例で説明します。user_config_dirを/etc/vsftpd/user_confに設定し、ユーザ「chris」としてログオンすると、vsftpdは/etc/vsftpd/user_confの設定を適用します。
              はセッションの間、/etc/vsftpd/user_conf/chris ファイルの設定を適用します。このファイルの形式は
              このマニュアルページに詳しく説明されています！すべての設定がユーザ単位で有効になるわけではないことに注意してください。例えば、多くの設定はユーザー
              セッションが開始される前にのみ有効です。 ユーザーごとの動作に影響を与えない設定の例としては、listen_address、banner_file、
              max_per_ip、max_clients、xferlog_fileなどがあります。

              デフォルト: (なし)

       user_sub_token
              このオプションはバーチャル・ユーザーと一緒に使うと便利です。各仮想ユーザのホームディレクトリをテンプレートに基づいて自動的に生成するために使われます。
              を自動的に生成するために使われます。例えば、guest_usernameで指定された実ユーザーのホーム・ディレクトリーが/home/virtual/$USERで、user_sub_tokenに
              が$USERに設定されている場合、仮想ユーザーfredがログインすると、（通常はchroot()'された）/home/virtual/fredディレクトリに到達します。 このオプションは
              は local_root に user_sub_token が含まれている場合にも有効です。

              デフォルト: (なし)

       userlist_file
              このオプションは userlist_enable オプションが有効なときにロードされるファイルの名前です。

              デフォルト： デフォルト: /etc/vsftpd/user_list

       vsftpd_log_file
              このオプションは、vsftpd スタイル・ログ・ファイルを書き込むファイル名です。このログは、xferlog_enable オプションが設定され、xferlog_state オプションが設定されている場合にのみ書き込まれます。
              が設定され、xferlog_std_format が設定されていない場合にのみ書き込まれます。または、dual_log_enable オプションを設定した場合にも書き込まれます。 さらに複雑なのは
              syslog_enableを設定している場合、このファイルは書き込まれず、代わりにシステムログに出力されます。

              デフォルトは デフォルト: /var/log/vsftpd.log

       xferlog_file
              このオプションは、wu-ftpd 形式の転送ログを書き込むファイルの名前です。転送ログは、xfer-log_enable オプションが設定されている場合にのみ書き込まれます。
              log_enable オプションと xferlog_std_format が設定されている場合のみ書き込まれます。 あるいは、 dual_log_enable オプションが設定されている場合にも書き込まれます。

              デフォルトは デフォルト：/var/log/xferlog


AUTHOR
       scarybeasts@gmail.com




                                                                                                                                            VSFTPD.CONF(5)
